{% extends "site.html" %}

{% block page_css %}
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/styles/default.min.css">
<style type="text/css">
  .post img {
    margin: 0 auto;
  }
  .post .content {
    width: 70%;
    margin: 0 auto;
    line-height: 1.75rem;
  }
  h1 {
    font-weight: 400;
  }

  h3 {
    margin-top: 2rem;
    margin-bottom: 1rem;
  }
</style>
{% endblock %}

{% block page_content %}
<main class="wrapper">
  <section class="container mt-5">
    <article class="post">
      <header class="mt-2">
        <h1>
            {{ title | safe }}
        </h1>
        <div class="post-meta mb-2">
          <time class="text-muted">{{ date | date("MMM D, YYYY") }}</time> |
          <span class="text-capitalize text-success">{{ author }}</span>
        </div>
      </header>

      {% if video %}
        <div class="text-center mt-5" style="position:relative;padding-bottom:56.25%;padding-top:25px;height:0;">
          <iframe style="position:absolute;top:0;left:0;width:100%;height:100%;" width="560" height="315" src="{{ video }}" frameborder="0"  allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
      {% elif image %}
        <div class="text-center mt-5">
          <img class="mx-auto d-block" src="/media/blog/{{ image }}_1200.png" alt="image for post" style="width:100%;">
          {% if image_attrib %}
            <span class="text-muted" style="font-size:0.8rem;font-weight:300;">
              {{ image_attrib }}
            </span>
          {% endif %}
        </div>
      {% endif %}

      <div class="content my-5">
        {{ contents | safe }}
      </div>
    </article>
  </section>
</main>
{% endblock %}
